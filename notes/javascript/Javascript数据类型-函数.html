<!DOCTYPE html>
<html lang="zh-CH" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>函数对象 | 滴滴滴滴</title>
    <meta name="description" content=" ">
    <link rel="preload stylesheet" href="/blog/assets/style.ec03a74b.css" as="style">
    <script type="module" src="/blog/assets/app.028c90b7.js"></script>
    <link rel="preload" href="/blog/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/blog/assets/chunks/framework.316ef557.js">
  <link rel="modulepreload" href="/blog/assets/chunks/theme.78ee9aae.js">
  <link rel="modulepreload" href="/blog/assets/notes_javascript_Javascript数据类型-函数.md.b870b024.lean.js">
  <link rel="ico" href="/favicon.ico">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-c2644f7b><!--[--><!--]--><!--[--><span tabindex="-1" data-v-90916cb8></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-90916cb8> Skip to content </a><!--]--><!----><header class="VPNav" data-v-c2644f7b data-v-1a3f9985><div class="VPNavBar" data-v-1a3f9985 data-v-07836f67><div class="container" data-v-07836f67><div class="title" data-v-07836f67><div class="VPNavBarTitle" data-v-07836f67 data-v-720878cb><a class="title" href="/blog/" data-v-720878cb><!--[--><!--]--><!----><!--[-->滴滴滴滴<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-07836f67><div class="curtain" data-v-07836f67></div><div class="content-body" data-v-07836f67><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-07836f67><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-07836f67 data-v-706323c2><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-706323c2 data-v-bedf33f5 data-v-edb33bd5><span class="check" data-v-edb33bd5><span class="icon" data-v-edb33bd5><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-bedf33f5><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-bedf33f5><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-07836f67 data-v-2b2a3db9 data-v-9c3d8c47><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-9c3d8c47><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-9c3d8c47><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-9c3d8c47><div class="VPMenu" data-v-9c3d8c47 data-v-fecf0fe6><!----><!--[--><!--[--><!----><div class="group" data-v-2b2a3db9><div class="item appearance" data-v-2b2a3db9><p class="label" data-v-2b2a3db9>深色模式</p><div class="appearance-action" data-v-2b2a3db9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-2b2a3db9 data-v-bedf33f5 data-v-edb33bd5><span class="check" data-v-edb33bd5><span class="icon" data-v-edb33bd5><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-bedf33f5><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-bedf33f5><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-07836f67 data-v-db85eed6><span class="container" data-v-db85eed6><span class="top" data-v-db85eed6></span><span class="middle" data-v-db85eed6></span><span class="bottom" data-v-db85eed6></span></span></button></div></div></div></div><!----></header><!----><!----><div class="VPContent" id="VPContent" data-v-c2644f7b data-v-90dec6dc><div class="VPDoc has-aside" data-v-90dec6dc data-v-0b10ff79><!--[--><!--]--><div class="container" data-v-0b10ff79><div class="aside" data-v-0b10ff79><div class="aside-curtain" data-v-0b10ff79></div><div class="aside-container" data-v-0b10ff79><div class="aside-content" data-v-0b10ff79><div class="VPDocAside" data-v-0b10ff79 data-v-5544d77d><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-5544d77d data-v-0bb9d5c4><div class="content" data-v-0bb9d5c4><div class="outline-marker" data-v-0bb9d5c4></div><div class="outline-title" data-v-0bb9d5c4>本页目录</div><nav aria-labelledby="doc-outline-aria-label" data-v-0bb9d5c4><span class="visually-hidden" id="doc-outline-aria-label" data-v-0bb9d5c4> Table of Contents for current page </span><ul class="root" data-v-0bb9d5c4 data-v-cb1d5077><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-5544d77d></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-0b10ff79><div class="content-container" data-v-0b10ff79><!--[--><!--]--><!----><main class="main" data-v-0b10ff79><div style="position:relative;" class="vp-doc _blog_notes_javascript_Javascript%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-%E5%87%BD%E6%95%B0" data-v-0b10ff79><div><h1 id="函数对象" tabindex="-1">函数对象 <a class="header-anchor" href="#函数对象" aria-label="Permalink to &quot;函数对象&quot;">​</a></h1><h2 id="一、函数的定义方式" tabindex="-1">一、函数的定义方式 <a class="header-anchor" href="#一、函数的定义方式" aria-label="Permalink to &quot;一、函数的定义方式&quot;">​</a></h2><h3 id="_1、用构造函数-正规写法-但没人用-let-变量名-new-function-形式参数1-形式参数2-语句-return-返回值" tabindex="-1">1、用构造函数（正规写法，但没人用）：<code>let 变量名 = new Function(&#39;形式参数1&#39;,&#39;形式参数2&#39;,语句，&#39;return 返回值&#39;)</code> <a class="header-anchor" href="#_1、用构造函数-正规写法-但没人用-let-变量名-new-function-形式参数1-形式参数2-语句-return-返回值" aria-label="Permalink to &quot;1、用构造函数（正规写法，但没人用）：`let 变量名 = new Function(&#39;形式参数1&#39;,&#39;形式参数2&#39;,语句，&#39;return 返回值&#39;)`&quot;">​</a></h3><p>函数是个对象，对象都是由构造函数构造出来的。所以从上式可以发现任何一个函数都是由“爸爸构造函数”Function函数构造出来的。构造函数这个对象的构造函数是“爸爸构造函数”Function函数</p><h3 id="_2、具名函数-function-函数名-形式参数1-形式参数2-语句-return-返回值" tabindex="-1">2、具名函数：<code>function 函数名(形式参数1,形式参数2) {语句 return 返回值}</code> <a class="header-anchor" href="#_2、具名函数-function-函数名-形式参数1-形式参数2-语句-return-返回值" aria-label="Permalink to &quot;2、具名函数：`function 函数名(形式参数1,形式参数2) {语句 return 返回值}`&quot;">​</a></h3><ul><li>例如<code>function add(x,y) {return x+y}</code></li><li><code>let f1 = function add(x,y) {return x+y}</code>也可以把具名函数放到变量f1上，但此时用add这个名字调用这个具名函数却无法成功，add的作用域仅限于在等号右边（不懂，记住就行）</li></ul><h3 id="_3、匿名函数-let-变量名-function-形式参数1-形式参数2-语句-return-返回值" tabindex="-1">3、匿名函数：<code>let 变量名 = function (形式参数1,形式参数2) {语句 return 返回值}</code> <a class="header-anchor" href="#_3、匿名函数-let-变量名-function-形式参数1-形式参数2-语句-return-返回值" aria-label="Permalink to &quot;3、匿名函数：`let 变量名 = function (形式参数1,形式参数2) {语句 return 返回值}`&quot;">​</a></h3><ul><li>因为匿名函数没有名字，所以必须给这个函数表达式赋值给变量。变量储存了这个匿名函数的地址而已</li><li>把具名函数的函数名去掉就是匿名函数，也叫函数表达式（等号右边这部分）</li><li>比如<code>let f1 = function(x,y){return x+y}</code></li></ul><h3 id="_4、箭头函数-let-变量名-形式参数-语句-return-返回值" tabindex="-1">4、箭头函数：<code>let 变量名 = (形式参数) =&gt; {语句 return 返回值}</code> <a class="header-anchor" href="#_4、箭头函数-let-变量名-形式参数-语句-return-返回值" aria-label="Permalink to &quot;4、箭头函数：`let 变量名 = (形式参数) =&gt; {语句 return 返回值}`&quot;">​</a></h3><ul><li>因为箭头函数没有名字，所以必须把这个箭头函数赋值给变量f1。变量储存了这个箭头函数的地址而已</li><li>形式参数在只有一个时，可以省略圆括号()</li><li>只有返回值时，{}可以省。<strong>但是</strong>注意如果此时返回值是个对象，{}省了是会有bug的！那在对象外面加个()就可以了</li></ul><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> f1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> x</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">x</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> f2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> x</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">y</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> f3 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> f4 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hi</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">y</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> f5 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><h2 id="二、函数自身fn-vs-函数调用-执行-fn" tabindex="-1">二、函数自身fn VS 函数调用（执行）fn() <a class="header-anchor" href="#二、函数自身fn-vs-函数调用-执行-fn" aria-label="Permalink to &quot;二、函数自身fn VS 函数调用（执行）fn()&quot;">​</a></h2><h3 id="_1、函数自身fn" tabindex="-1">1、函数自身fn <a class="header-anchor" href="#_1、函数自身fn" aria-label="Permalink to &quot;1、函数自身fn&quot;">​</a></h3><p><code>fn</code>只是表示把变量fn保存的地址指向的那个函数</p><h3 id="_2、函数调用fn" tabindex="-1">2、函数调用fn() <a class="header-anchor" href="#_2、函数调用fn" aria-label="Permalink to &quot;2、函数调用fn()&quot;">​</a></h3><p>只有给函数他需要的参数（也就是要给()圆括号）才可以调用执行这个函数</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> fn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hi</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">fn   </span><span style="color:#676E95;font-style:italic;">//  () =&gt; {console.log(&#39;hi&#39;)}</span></span>
<span class="line"><span style="color:#82AAFF;">fn</span><span style="color:#A6ACCD;">()  </span><span style="color:#676E95;font-style:italic;">//  hi</span></span>
<span class="line"><span style="color:#82AAFF;">fn</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)  </span><span style="color:#676E95;font-style:italic;">//  hi</span></span>
<span class="line"><span style="color:#A6ACCD;">fn2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fn</span></span>
<span class="line"><span style="color:#A6ACCD;">fn2  </span><span style="color:#676E95;font-style:italic;">//  () =&gt; {console.log(&#39;hi&#39;)}</span></span>
<span class="line"><span style="color:#82AAFF;">fn2</span><span style="color:#A6ACCD;">()  </span><span style="color:#676E95;font-style:italic;">//  hi</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/*</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">fn保存了匿名函数的地址</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">这个地址被复制给了fn2</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">fn2()调用了匿名函数</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">fn和fn2都是匿名函数的引用而已</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">真正的函数既不是fn也不是fn2,而是() =&gt; {console.log(&#39;hi&#39;)}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">*/</span></span></code></pre></div><h2 id="三、函数的要素" tabindex="-1">三、函数的要素 <a class="header-anchor" href="#三、函数的要素" aria-label="Permalink to &quot;三、函数的要素&quot;">​</a></h2><p>每个函数都有这些东西</p><ul><li>调用时机：定义是定义了，但是调用是什么时候就根据什么时候的具体情况返回值</li><li>作用域：就近原则</li><li>闭包</li><li>形式参数</li><li>返回值</li><li>调用栈</li><li>函数提升</li><li>arguments (除了箭头函数)</li><li>this (除了箭头函数)</li></ul><h3 id="一-调用时机" tabindex="-1">（一）调用时机 <a class="header-anchor" href="#一-调用时机" aria-label="Permalink to &quot;（一）调用时机&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#89DDFF;">(){</span></span>
<span class="line"><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#82AAFF;">fn</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 2</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//过一会打印出a，过一会就是指要等所有代码执行完</span></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;">(i </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">++</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//打印出6个6</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//循环到每一个i都是过一会打印出i。过一会就是指要把所有循环走完。那么当循环走完，i就为6，所以要打印出6个6</span></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">++</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//打印出0、1、2、3、4、5</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//为了迎合新人的思想特地做出了更新</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//在JS中如果for和let一起用就会出现每次循环多创建一个i的情况</span></span></code></pre></div><h3 id="二-作用域-就近原则" tabindex="-1">（二）作用域：就近原则 <a class="header-anchor" href="#二-作用域-就近原则" aria-label="Permalink to &quot;（二）作用域：就近原则&quot;">​</a></h3><ol><li>顶级作用域</li><li>局部作用域</li></ol><ul><li>每个函数都会默认创建个局部作用域</li><li>在局部作用域声明的变量是局部变量</li></ul><ol start="3"><li>全局变量</li></ol><ul><li>在顶级作用域声明的变量是全局变量</li><li>window的属性是全局变量</li><li>全局变量在任何作用域存在</li></ul><ol start="4"><li>其他都是局部变量</li></ol><ul><li>局部变量只在局部作用域里存在生存</li></ul><ol start="5"><li><p>函数可以嵌套，作用域也可以嵌套!嵌套！包住的意思！</p></li><li><p>如果多个作用域有同名变量a，那么查找a的声明时，就向上看取最近的包住！包住！他的作用域（自己身处的那个作用域当然是最近的，没有再向上找最近的包住！包住！他的作用域），简称「就近原则」。查找a的声明的过程（也相当于作用域的范围）与函数执行无关，但a的值与函数执行有关</p></li><li><p>一个作用域与函数的执行无关叫静态作用域（词法作用域）</p></li><li><p>一个作用域与函数的执行有关叫动态作用域</p></li></ol><h3 id="三-闭包" tabindex="-1">（三）闭包 <a class="header-anchor" href="#三-闭包" aria-label="Permalink to &quot;（三）闭包&quot;">​</a></h3><ul><li>如果一个函数用到了外部的变量，那么这个函数加这个变量，就叫做闭包</li><li>如上图的a和f3组成了闭包</li></ul><h3 id="四-形式参数" tabindex="-1">（四）形式参数 <a class="header-anchor" href="#四-形式参数" aria-label="Permalink to &quot;（四）形式参数&quot;">​</a></h3><p>形式参数的意思就是非实际参数。形参可认为是变量声明。形参可多可少</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">){</span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//其中X和y就是形参，因为并不是实际的参数</span></span>
<span class="line"><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//调用add时，1和2是实际参数，会被赋值给xy</span></span></code></pre></div><h3 id="五-返回值" tabindex="-1">（五）返回值 <a class="header-anchor" href="#五-返回值" aria-label="Permalink to &quot;（五）返回值&quot;">​</a></h3><ol><li>每个函数都会有返回值。如果没写return，返回值就是undefined</li><li>函数执行完才会返回值</li><li>只有函数有<strong>返回值</strong>（有return啊）</li><li>其他的表达式都叫值，比如<code>1+2</code>的值为3</li></ol><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">hi</span><span style="color:#89DDFF;">(){</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hi</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#82AAFF;">hi</span><span style="color:#A6ACCD;">()  </span><span style="color:#676E95;font-style:italic;">//undefined</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">hi</span><span style="color:#89DDFF;">(){</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hi</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#82AAFF;">hi</span><span style="color:#A6ACCD;">()  </span><span style="color:#676E95;font-style:italic;">//undefined</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">//因为返回值是console.log(&#39;hi&#39;)的值，而console.log()函数的返回值都是undefined，hi只是console.log()函数的打印值</span></span></code></pre></div><h3 id="六-调用栈" tabindex="-1">（六）调用栈 <a class="header-anchor" href="#六-调用栈" aria-label="Permalink to &quot;（六）调用栈&quot;">​</a></h3><h4 id="_1、概念" tabindex="-1">1、概念 <a class="header-anchor" href="#_1、概念" aria-label="Permalink to &quot;1、概念&quot;">​</a></h4><p>（1）JS引擎在调用一个函数前，需要把函数所在的环境push到一个数组里（<strong>压栈</strong>），这个数组叫做调用栈 （2）JS 引擎退出一个函数之前，需要把环境从调用栈里弹出，然后回到这个弹出的环境，继续执行后续代码</p><h4 id="_2、举例" tabindex="-1">2、举例 <a class="header-anchor" href="#_2、举例" aria-label="Permalink to &quot;2、举例&quot;">​</a></h4><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)  </span><span style="color:#676E95;font-style:italic;">//第1行</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1+2的结果为</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">))   </span><span style="color:#676E95;font-style:italic;">//第2行</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)   </span><span style="color:#676E95;font-style:italic;">//第3行</span></span></code></pre></div><h4 id="_3、一个通俗的比喻" tabindex="-1">3、一个通俗的比喻 <a class="header-anchor" href="#_3、一个通俗的比喻" aria-label="Permalink to &quot;3、一个通俗的比喻&quot;">​</a></h4><ul><li>要执行一个函数必须到这个函数该去的地方执行。比如在家中的你要拉屎必须去厕所</li><li>但拉完屎（执行完函数），你还得回去拉屎之前呆的地方，比如客厅，比如卧室（也就是函数之前呆的环境）。</li><li>所以每次要去拉屎的时候，要在厕所门（调用栈）上写上“我拉完屎要回客厅”（压栈）</li><li>这样等你拉好屎，出来看厕所门上的记录（弹栈），你就知道要去哪去了，然后记得把这条记录划掉</li></ul><h4 id="_4、递归函数-阶乘-的调用栈" tabindex="-1">4、递归函数（阶乘）的调用栈 <a class="header-anchor" href="#_4、递归函数-阶乘-的调用栈" aria-label="Permalink to &quot;4、递归函数（阶乘）的调用栈&quot;">​</a></h4><p>（1）阶乘函数</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">f</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">n</span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">n</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">n</span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">f</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">n</span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>（2）f(4)</p><p>（3）原理</p><ul><li>递归函数一般会出现自己调用自己的现象</li><li>递归函数一般有一个递归出口，比如 n = 1 的时候，不再调用自己</li><li>传递的过程其实就是压栈</li><li>回归的过程其实就是弹栈</li><li>递归几次就会压栈几次，比如f(4)要递归四次，就要压栈四次</li></ul><h4 id="_5、一个调用栈最多可以压栈几次-调用栈的长度是有限的" tabindex="-1">5、一个调用栈最多可以压栈几次：调用栈的长度是有限的 <a class="header-anchor" href="#_5、一个调用栈最多可以压栈几次-调用栈的长度是有限的" aria-label="Permalink to &quot;5、一个调用栈最多可以压栈几次：调用栈的长度是有限的&quot;">​</a></h4><ul><li>Chrome 12578</li><li>Firefox 26773</li><li>Node 12536（Node和Chrome用的js引擎都是V8，所以差不多）</li><li>用下面代码可以测出调用栈的最多压栈次数</li></ul><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">computeMaxCallStackSize</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">try</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">computeMaxCallStackSize</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">catch</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">e</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 报错 说明stack overflow（爆栈）了 </span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h4 id="_6、超出最多压栈次数-就会爆栈-程序就会崩溃" tabindex="-1">6、超出最多压栈次数，就会爆栈，程序就会崩溃 <a class="header-anchor" href="#_6、超出最多压栈次数-就会爆栈-程序就会崩溃" aria-label="Permalink to &quot;6、超出最多压栈次数，就会爆栈，程序就会崩溃&quot;">​</a></h4><h3 id="七-函数提升" tabindex="-1">（七）函数提升 <a class="header-anchor" href="#七-函数提升" aria-label="Permalink to &quot;（七）函数提升&quot;">​</a></h3><p>不管你把具名函数声明在哪里，他都会跑到第一行去</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">){</span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//3</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//因为具名函数其实会跑到第一行，所以add函数以及被定义了。所以可以执行add(1,2)</span></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> add</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">){</span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//报错，因为具名函数其实在第一行，以及把add作为函数名了，之后let想要声明add是不行的，add已经被用了。（用var就很烦，所以不要用var）</span></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;">  fn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">){</span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 报错，这个不算函数提升，因为这个函数被let声明并赋值，而let不允许先使用（add（1,2））后声明</span></span></code></pre></div><h3 id="八-arguments和this" tabindex="-1">（八）arguments和this <a class="header-anchor" href="#八-arguments和this" aria-label="Permalink to &quot;（八）arguments和this&quot;">​</a></h3><h4 id="_1、如何查看一个函数的this和arguments" tabindex="-1">1、如何查看一个函数的<code>this</code>和<code>arguments</code> <a class="header-anchor" href="#_1、如何查看一个函数的this和arguments" aria-label="Permalink to &quot;1、如何查看一个函数的`this`和`arguments`&quot;">​</a></h4><p>(1)首要在这个函数里面写上打印出<code>this</code>和<code>arguments</code></p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">   </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">   </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><p>(2)查看<code>arguments</code> : 调用这个函数即可，即fn()</p><ul><li>可见，<code>arguments</code>是一个包含该函数所有普通参数的伪数组</li><li>每次调用函数时，都会对应产生一个 arguments</li><li>我们应该尽量不对 arguments 内的元素进行修改，修改 arguments 会让代码变得令人疑惑</li></ul><p>(3)查看<code>this</code></p><ul><li>调用这个函数，这时<code>this</code>表示window</li><li>使用<code>fn.call(x,1,2,3)</code>，那么第一个参数x会传给this（而且这个参数x会被自动转化为对象），后面的参数会传给arguments</li><li>如果在（1）的代码中加上<code>&#39;use strict&#39;(开启严格模式)</code>就不会自动转化为对象了</li></ul><h4 id="_2、arguments是普通参数-this是隐藏参数" tabindex="-1">2、arguments是普通参数，this是隐藏参数 <a class="header-anchor" href="#_2、arguments是普通参数-this是隐藏参数" aria-label="Permalink to &quot;2、arguments是普通参数，this是隐藏参数&quot;">​</a></h4><h4 id="_3、理解的过程" tabindex="-1">3、理解的过程 <a class="header-anchor" href="#_3、理解的过程" aria-label="Permalink to &quot;3、理解的过程&quot;">​</a></h4><p>代码一</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> person </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">//声明了一个变量person，并且把一个对象赋值给这个变量person，那么实际上是变量person保存了这个对象的地址</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">frank</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">   </span><span style="color:#676E95;font-style:italic;">//这个对象有个属性name，属性值为frank</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">sayHi</span><span style="color:#89DDFF;">(){</span><span style="color:#F07178;">        </span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">你好，我叫</span><span style="color:#89DDFF;">`</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">person</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">)  </span><span style="color:#676E95;font-style:italic;">//这个对象还有个函数sayHi，函数的作用是打印出你好我叫+变量person的name属性的属性值</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">//变量person保存了一个对象的地址，所以我们可以用这个变量person获取这个对象里的属性。这是我们一直知道的。这个叫引用</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">//因为我们只是定义了这个函数sayHi，但是却没有调用它，所以在定义函数satHi时可以引用还没完全声明好的person变量。因为要是调用了这个函数，那么肯定变量person也早就声明好了。</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">//一个函数在调用时里面的东西必须声明好，但定义时有没有声明好不重要</span></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> person </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">frank</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">sayHi</span><span style="color:#89DDFF;">(){</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">你好，我叫</span><span style="color:#89DDFF;">`</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">person</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sayHi</span><span style="color:#A6ACCD;">()</span></span></code></pre></div><ul><li>我们想让函数中有一个变量，这个变量指向一个将要被创建的对象，这个对象中有个属性是我们需要。也就是我们想让函数可以引用一个对象</li><li>当我们定义函数sayHi时，其实<code>this</code>被当做形式参数（隐形的）：<code>sayHi(this){}</code></li><li><code>person.sayHi()</code>会被js引擎弄为<code>person.sayHi(person)</code></li><li>所以<code>person</code>就是实际参数，<code>this</code>就是形式参数</li><li>所以<code>this.name===person.name</code></li><li>函数中有个变量<code>this</code>，这个变量指向将要创建的对象<code>person</code>，所以我们可用<code>this</code>指代<code>person</code>，并且使用它的属性</li></ul><h4 id="_4、函数调用升级啦" tabindex="-1">4、函数调用升级啦 <a class="header-anchor" href="#_4、函数调用升级啦" aria-label="Permalink to &quot;4、函数调用升级啦&quot;">​</a></h4><h5 id="_1-小白调用法-再也不准用" tabindex="-1">（1）小白调用法（再也不准用） <a class="header-anchor" href="#_1-小白调用法-再也不准用" aria-label="Permalink to &quot;（1）小白调用法（再也不准用）&quot;">​</a></h5><p><code>person.sayHi()</code>会自动把person作为this的实际参数传到函数里</p><h5 id="_2-大师调用法" tabindex="-1">（2）大师调用法 <a class="header-anchor" href="#_2-大师调用法" aria-label="Permalink to &quot;（2）大师调用法&quot;">​</a></h5><p><code>person.sayHi.call(xxx)</code></p><ul><li>（）中的第一个参数xxx作为形式参数this的实际参数</li></ul><h2 id="四、重新开始认识函数" tabindex="-1">四、重新开始认识函数 <a class="header-anchor" href="#四、重新开始认识函数" aria-label="Permalink to &quot;四、重新开始认识函数&quot;">​</a></h2><h3 id="一-函数实际定义形式" tabindex="-1">（一）函数实际定义形式 <a class="header-anchor" href="#一-函数实际定义形式" aria-label="Permalink to &quot;（一）函数实际定义形式&quot;">​</a></h3><p><code>function 函数名(隐形的this，形式参数1,形式参数2) {语句 return 返回值}</code></p><h3 id="二-关于this" tabindex="-1">（二）关于<code>this</code> <a class="header-anchor" href="#二-关于this" aria-label="Permalink to &quot;（二）关于`this`&quot;">​</a></h3><ul><li><code>this</code>是函数的隐藏参数</li><li>在 new Fn() 调用中，this 指向新生成的对象，这是 new 决定的</li></ul><h3 id="三-函数最正确的调用法-开发者通过call或apply显式指定的-this" tabindex="-1">（三）函数最正确的调用法（开发者通过call或apply显式指定的 this） <a class="header-anchor" href="#三-函数最正确的调用法-开发者通过call或apply显式指定的-this" aria-label="Permalink to &quot;（三）函数最正确的调用法（开发者通过call或apply显式指定的 this）&quot;">​</a></h3><p><code>函数名.call(xxx，实际参数1，实际参数2)</code><code>函数名.apply(xxx，[实际参数1，实际参数2])</code></p><ul><li>xxx是隐藏参数this的实际参数</li><li>如果一个函数中没有用到this，就把xxx写为<code>undefined</code>或者<code>null</code>或者<code>&#39;fuck&#39;</code>，this默认指向 window，这是浏览器决定的</li></ul><h3 id="四-以前的函数调用法-js-的隐式传-this-的本质" tabindex="-1">（四）以前的函数调用法（JS 的隐式传 this）的本质 <a class="header-anchor" href="#四-以前的函数调用法-js-的隐式传-this-的本质" aria-label="Permalink to &quot;（四）以前的函数调用法（JS 的隐式传 this）的本质&quot;">​</a></h3><ol><li><code>函数名(实际参数1，实际参数2)</code></li></ol><ul><li>等价于<code>函数名.call(undefined，实际参数1，实际参数2)</code></li><li>函数中没有用到this,所以把xxx写为<code>undefined</code>或者<code>null</code>或者<code>&#39;fuck&#39;</code>，this 默认指向 window，这是浏览器决定的</li></ul><ol start="2"><li><code>yyy.函数名(实际参数1，实际参数2)</code></li></ol><ul><li>等价于<code>yyy.函数名.call(yyy，实际参数1，实际参数2)</code></li><li>this默认指向yyy</li></ul><h3 id="五-例子" tabindex="-1">（五）例子 <a class="header-anchor" href="#五-例子" aria-label="Permalink to &quot;（五）例子&quot;">​</a></h3><p>我们用this写个遍历数组的forEach函数</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">){</span><span style="color:#F07178;">  </span><span style="color:#676E95;font-style:italic;">//forEach2函数是这样的：首先他需要接受个参数：函数fn</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;">(</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">&lt;this.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">++</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">  </span><span style="color:#676E95;font-style:italic;">//之后他会遍历数组</span></span>
<span class="line"><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">)   </span><span style="color:#676E95;font-style:italic;">//每次都会调用函数fn，并且把this[i], i, this三个作为fn的实际参数</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><p>因为我们把这个forEach写入了数组的原型中，所以所有数组都可以调用该函数。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">arr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">forEach2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(arr</span><span style="color:#89DDFF;">,(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">z</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">z</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//指定arr是this</span></span>
<span class="line"><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach2</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">z</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">z</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//浏览器自己认为arr是this</span></span>
<span class="line"><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">forEach2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bb</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;">length</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">},(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">z</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">z</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//指定一个伪数组是this</span></span></code></pre></div><h3 id="六-用-bind绑定函数的参数" tabindex="-1">(六)用.bind绑定函数的参数 <a class="header-anchor" href="#六-用-bind绑定函数的参数" aria-label="Permalink to &quot;(六)用.bind绑定函数的参数&quot;">​</a></h3><ol><li>用.bind绑定函数的this</li></ol><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">f1</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">p1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">p2</span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">p1</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">p2</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> f2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> f1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">bind</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">frank</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 那么f2就是f1绑定了this之后的新函数 </span></span>
<span class="line"><span style="color:#82AAFF;">f2</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// 等价于f1.call({name:&#39;frank&#39;})</span></span></code></pre></div><ol start="2"><li>用.bind绑定函数的其他参数</li></ol><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> f3 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> f1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">bind</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">frank</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hi</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#82AAFF;">f3</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// f1.call({name:&#39;frank&#39;}, hi)</span></span></code></pre></div><h2 id="五、箭头函数" tabindex="-1">五、箭头函数 <a class="header-anchor" href="#五、箭头函数" aria-label="Permalink to &quot;五、箭头函数&quot;">​</a></h2><ul><li>箭头函数没有自己的this。箭头函数里面的this就是该函数外面的this，就算你加call都没用。 这多好啊，不用管这烦人的this了</li><li>箭头函数没有arguments</li></ul><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">this</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">//外面的this是window</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> fn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">this</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#82AAFF;">fn</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// window</span></span>
<span class="line"><span style="color:#A6ACCD;">fn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">frank</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// window</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> fn1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(arguments)</span></span>
<span class="line"><span style="color:#82AAFF;">fn3</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// Uncaught ReferenceError: arguments is not defined at fn1</span></span></code></pre></div><h2 id="六、立即执行函数-生成局部变量的老方法" tabindex="-1">六、立即执行函数--生成局部变量的老方法 <a class="header-anchor" href="#六、立即执行函数-生成局部变量的老方法" aria-label="Permalink to &quot;六、立即执行函数--生成局部变量的老方法&quot;">​</a></h2><ul><li>ES5时代，为了得到局部变量，必须引入一个函数</li><li>但是这个函数如果有名字，就还会引入一个全局函数，得不偿失</li><li>于是这个函数必须是匿名函数</li><li>声明匿名函数，然后立即加个()执行它</li><li>但是JS标准认为这种语法不合法</li><li>所以JS程序员寻求各种办法</li><li>最终发现，只要在匿名函数前面加个运算符即可</li><li>!、~、()、+、-都可以</li><li>但是这里面有些运算符会往上走</li><li>所以推荐永远用!来解决</li></ul><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//推荐！ES5老方法</span></span>
<span class="line"><span style="color:#89DDFF;">!</span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(){</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> ()</span></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//更推荐！ES6最新方法</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//不推荐()</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hi</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)  </span><span style="color:#676E95;font-style:italic;">//如果立即执行函数前面这句代码</span></span>
<span class="line"><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(){</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> ()) </span><span style="color:#676E95;font-style:italic;">//报错：console.log(...) is not a function</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//因为js中回车没意义，所以把下面的立即执行函数接到前面去了，所以相当于</span></span>
<span class="line"><span style="color:#89DDFF;">undefined</span><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(){</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> ()) </span><span style="color:#676E95;font-style:italic;">//把undefined当一个函数来执行了，哪来的undefined这个函数，所以报错</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//补救措施</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hi</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">//在他俩之间加分号。注意这是js语言中唯一两句代码之间需要加分号的情况！！！</span></span>
<span class="line"><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(){</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> ())</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-0b10ff79 data-v-15d9c578><!--[--><!--]--><div class="edit-info" data-v-15d9c578><!----><div class="last-updated" data-v-15d9c578><p class="VPLastUpdated" data-v-15d9c578 data-v-b94bc452>最近更新时间: <time datetime="2023-07-31T09:44:51.000Z" data-v-b94bc452></time></p></div></div><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"notes_personal_object相关.md\":\"141a7e6e\",\"notes_javascript_我眼中的闭包.md\":\"4fb97ea9\",\"notes_javascript_call、apply、bind 的用法.md\":\"87588b2d\",\"notes_javascript_js的new做了什么.md\":\"babf56e6\",\"notes_javascript_js.md\":\"c1ab63c8\",\"notes_css_css.md\":\"a1131573\",\"notes_personal_sas签名微软云azure前端文件上传封装.md\":\"94b27d0d\",\"notes_personal_personal.md\":\"75228ad5\",\"notes_css_css汇总.md\":\"03041c54\",\"notes_html_emmet快捷写html.md\":\"d2b81606\",\"notes_html_html汇总.md\":\"77baec5f\",\"notes_personal_wordclound封装.md\":\"55e2b0cb\",\"notes_css_旋转动画.md\":\"401ef4e4\",\"notes_html_html.md\":\"bcf0e1f5\",\"notes_html_viewport.md\":\"6424e738\",\"notes_html_元素和分类.md\":\"6005f568\",\"notes_surprising_浅析 mvc.md\":\"3e70a3a4\",\"notes_javascript_跨域.md\":\"30b22524\",\"notes_javascript_原型链.md\":\"cfd74995\",\"notes_personal_html2canvas _ jspdf.md\":\"618d2b21\",\"notes_personal_uni.request封装.md\":\"df1f6c26\",\"notes_javascript_javascript数据类型-原始类型和两特殊值.md\":\"49772d86\",\"notes_personal_number相关.md\":\"64ba7542\",\"notes_personal_string相关.md\":\"0e745f87\",\"notes_personal_array相关.md\":\"a36eb02e\",\"notes_css_css动画.md\":\"1ab73a73\",\"notes_surprising_svg的引入历程.md\":\"214ee742\",\"notes_css_css总结.md\":\"8486cf18\",\"notes_html_重点标签.md\":\"b0fb87cd\",\"notes_surprising_新东西.md\":\"8e04db01\",\"notes_javascript_javascript数据类型-object.md\":\"b9872ef3\",\"notes_surprising_表驱动编程.md\":\"9e2d420b\",\"notes_utils_git提交备注规范.md\":\"5122e974\",\"notes_vue_computed_watch.md\":\"6c44f4f5\",\"notes_vue3_新特性.md\":\"cbeaa12f\",\"index.md\":\"4200b05e\",\"notes_personal_html2canvas.md\":\"fab7b4b5\",\"notes_react_函数组件.md\":\"05e2f494\",\"notes_css_小知识.md\":\"ed2bc422\",\"notes_vue_hello.md\":\"4130d2c7\",\"notes_vue_sync 修饰符.md\":\"b31b17a8\",\"notes_javascript_promise.md\":\"0fc26a89\",\"notes_javascript_函数的防抖跟节流.md\":\"d6a0f662\",\"notes_javascript_js 的继承.md\":\"2ccdffc0\",\"notes_javascript_常见的this指向的问题.md\":\"48446c60\",\"notes_vue_vue.md\":\"f711d34c\",\"notes_personal_数组去重.md\":\"e8dadf91\",\"notes_react_ts使用.md\":\"2b12dd50\",\"notes_vue_构造选项.md\":\"51f3a771\",\"notes_personal_base64转blob.md\":\"d3e77e7e\",\"notes_personal_vue-native-websocket使用.md\":\"976edcc5\",\"notes_javascript_javascript运算符.md\":\"dc71df4b\",\"notes_personal_页面表格转换word.md\":\"c937cb09\",\"notes_surprising_just devise.md\":\"238cd46b\",\"notes_utils_vscode keyboard shortcuts for windows.md\":\"77907784\",\"notes_react_class组件.md\":\"58df60cb\",\"notes_nodejs_nodejs.md\":\"cf2372aa\",\"notes_utils_常用 git 命令清单.md\":\"a59b34d7\",\"notes_surprising_surprising.md\":\"cdfdffea\",\"notes_personal_聚合扫码.md\":\"76e53ba1\",\"notes_css_垂直居中的七种方法.md\":\"28133f83\",\"notes_javascript_es6 语法.md\":\"3b606012\",\"notes_vue_vuerouter.md\":\"f286fd3d\",\"notes_personal_privacy.md\":\"d4c7f46c\",\"notes_vue_options.md\":\"b2af0d8d\",\"notes_vue3_vue3.md\":\"8323afdc\",\"notes_personal_高德定位封装.md\":\"964e653e\",\"notes_react_react入门.md\":\"ef56c01c\",\"notes_javascript_javascript数据类型-数组.md\":\"5f5b1773\",\"notes_personal_大屏相关.md\":\"17b53fba\",\"notes_react_react组件.md\":\"8a0dc2a6\",\"notes_personal_自己封装的axios.md\":\"ca435e06\",\"notes_personal_工具函数.md\":\"3c8d0cac\",\"notes_personal_常用的数组方法.md\":\"51c4bf49\",\"notes_react_react.md\":\"2d1516f2\",\"notes_personal_画板封装.md\":\"23149959\",\"notes_personal_trtc.md\":\"77506f34\",\"notes_vue_v-model.md\":\"0e75f39a\",\"notes_nodejs_event loop.md\":\"e653a6fb\",\"notes_personal_日历组件封装.md\":\"1ee4da52\",\"notes_javascript_jquery.md\":\"f55c424b\",\"notes_utils_util.md\":\"1d1a5293\",\"notes_utils_axios 速查表.md\":\"a5ecfd22\",\"notes_utils_echarts 配置项.md\":\"cf17a90b\",\"notes_utils_终端命令行.md\":\"8835228d\",\"notes_utils_前端开发规范.md\":\"082aa9e7\",\"notes_utils_pnpm的安装与使用.md\":\"85418a20\",\"notes_vue_数据响应式.md\":\"d0e75b6c\",\"notes_utils_three.js 常用api.md\":\"4b4f387b\",\"notes_javascript_dom 事件机制_事件委托.md\":\"b168ba29\",\"notes_javascript_javascript数据类型-函数.md\":\"b870b024\",\"notes_personal_小tips.md\":\"f4916c48\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"zh-CH\",\"dir\":\"ltr\",\"title\":\"滴滴滴滴\",\"description\":\" \",\"base\":\"/blog/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"smoothScroll\":true,\"outline\":[2,3],\"outlineTitle\":\"本页目录\",\"sidebarMenuLabel\":\"菜单\",\"returnToTopLabel\":\"回到顶部\",\"darkModeSwitchLabel\":\"深色模式\",\"lastUpdatedText\":\"最近更新时间\"},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>